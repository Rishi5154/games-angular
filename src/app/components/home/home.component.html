<div class="filters">
    <mat-form-field>
        <mat-label> Sort </mat-label>
        <mat-select panelClass="sort-select" [(ngModel)]="sort"
            (selectionChange)="search(sort)">
            <mat-option value="name"> Name </mat-option>
            <mat-option value="-released"> Released </mat-option>
            <mat-option value="-added"> Added </mat-option>
            <mat-option value="-created"> Created </mat-option>
            <mat-option value="-updated"> Updated </mat-option>
            <mat-option value="-rating"> Rating </mat-option>
            <mat-option value="metacritic"> Metacritic </mat-option>
        </mat-select>
    </mat-form-field>
</div>

<div class="games">
    <!-- An angular component to iterate through the contents of the data-->
    <ng-container *ngFor="let game of games">
        <div class="game" (click)="openDetails(game.id)">
            <div class="game-thumb-container">
                <!-- If an image is present -->
                <img src="{{ game.background_image }}" 
                    alt="thumbnail" 
                    class="game-thumbnail"
                    *ngIf="game.background_image" 
                />
                <!-- Else (notice the !game.background_image)-->
                <p *ngIf="!game.background_image">No image</p>
            </div>
            <div class="game-description">
                <p class="game-name">{{ game.name }}</p>
                <div class="game-platforms">
                    <img
                      *ngFor="let gamePlatform of game.parent_platforms" 
                        src="assets/images/platforms/{{ gamePlatform.platform.name }}.svg"
                        alt="{{ gamePlatform.platform.name }}" 
                        class="game-platform"
                    />
                </div>
            </div>
        </div>
    </ng-container>
</div>
